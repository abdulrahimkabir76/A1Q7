# grid.py
from utils import MOVES

class Grid:
    def __init__(self, rows=20, cols=20):
        self.rows = rows
        self.cols = cols
        self.grid = [[0 for _ in range(cols)] for _ in range(rows)]
        self.start = (0, 0)
        self.target = (rows - 1, cols - 1)

    def reset(self):
        self.grid = [[0 for _ in range(self.cols)] for _ in range(self.rows)]

    def set_wall(self, row, col):
        if (row, col) != self.start and (row, col) != self.target:
            self.grid[row][col] = 1

    def remove_wall(self, row, col):
        self.grid[row][col] = 0

    def is_wall(self, row, col):
        return self.grid[row][col] == 1

    def in_bounds(self, row, col):
        return 0 <= row < self.rows and 0 <= col < self.cols

    def neighbors(self, row, col):
        for dr, dc in MOVES:
            nr, nc = row + dr, col + dc
            if self.in_bounds(nr, nc) and not self.is_wall(nr, nc):
                yield (nr, nc)
